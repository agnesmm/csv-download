<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>&lt;csv-download&gt;</title>

    <!-- Importing Web Component's Polyfill -->
    <script>if (!('registerElement' in document
      && 'createShadowRoot' in HTMLElement.prototype
      && 'import' in document.createElement('link')
      && 'content' in document.createElement('template'))) {
            document.write('<script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"><\/script>');
      }</script>
    <link rel="import" href="bower_components/polymer/polymer.html">

    <!-- Importing Custom Elements -->
    <link rel="import" href="src/csv-download.html">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>

    <div class="container">
      <h1>csv-download demo</h1>
      <p>Press the button to download this array as a CSV file</p>
      <pre>
[
  [ 1, 2, 3 ],
  [ "\"marisa\"", "hakurei,reimu", "sanae" ],
  [ { toJSON: function () { return 'hi'; } }, '1', 'a' ]
]
      </pre>
      <a is="csv-download" id="mycsv" class="btn btn-wide btn-primary">Download as csv</a>
    </div>
    <script>
      (function () {
        var element, myArray, interval;

        element = document.getElementById('mycsv');
        myArray = [
          [ 1, 2, 3 ],
          [ "\"marisa\"", "hakurei,reimu", "sanae" ],
          [ { toJSON: function () { return 'hi'; } }, '1', 'a' ]
        ];

        interval = setInterval(function () {
          // Wait for the element to be ready - a thing for Polymer and IE,
          // not necessary for any other browser
          if (element.createURI) {
            clearInterval(interval);
            element.data = myArray;
          }
        }, 1);
      }());
    </script>
  </body>
</html>
