<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>&lt;csv-download&gt;</title>

    <!-- Importing Web Component's Polyfill -->
    <script>if (!('registerElement' in document
      && 'createShadowRoot' in HTMLElement.prototype
      && 'import' in document.createElement('link')
      && 'content' in document.createElement('template'))) {
            document.write('<script src="/bower_components/webcomponentsjs/webcomponents.min.js"><\/script>');
      }</script>
    <link rel="import" href="bower_components/polymer/polymer.html">

    <!-- Importing Custom Elements -->
    <link rel="import" href="src/csv-download.html">
  </head>
  <body>

    <dom-module id="demo-page">
      <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
      <template>
        <!-- Using Custom Elements -->
        <div class="container">
          <h1>csv-download demo</h1>
          <p>Press the button to download this array as a CSV file</p>
          <pre>
[
  [ 1, 2, 3 ],
  [ "\"marisa\"", "hakurei,reimu", "sanae" ],
  [ { toJSON: function () { return 'hi'; } }, '1', 'a' ]
]
          </pre>
          <csv-download class="btn btn-wide btn-primary" data="{{myArray}}">Download as csv</csv-download>
        </div>
      </template>
      <script>
        Polymer({
          is : 'demo-page',
          properties : {
            myArray : {
              type : Array,
              value : function () {
                var myArray = [
                  [ 1, 2, 3 ],
                  [ "\"marisa\"", "hakurei,reimu", "sanae" ],
                  [ { toJSON: function () { return 'hi'; } }, '1', 'a' ]
                ];
                return myArray;
              }
            }
          }
        });
      </script>
    </dom-module>
    <div class="container">
      <demo-page></demo-page>
    </div>
  </body>
</html>
