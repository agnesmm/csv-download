!function(){"use strict";function a(a,c){return c=c||",","object"==typeof a||Array.isArray(a)?b(a,function(a){return b(a,function(a){return"string"!=typeof a&&(a=JSON.stringify(a).replace(/^"|"$/g,"")),RegExp(c+'|"').test(a)&&(a='"'+a.replace(/"/g,'""')+'"'),a}).join(c)}).join("\r\n"):""}var b=Function.prototype.call.bind(Array.prototype.map);Polymer({is:"csv-download","extends":"a",properties:{delimiter:{type:String,observer:"createURI",value:","},data:{type:Array,observer:"createURI",value:function(){return[]}},download:{type:String,reflectToAttribute:!0,value:"data.csv"}},createURI:function(){this.csvString=a(this.data,this.delimiter),Polymer.dom(this).setAttribute("href","data:application/octet-stream,"+encodeURIComponent(this.csvString))},ready:function(){this.addEventListener("click",function(a){var b;this.createURI(),window.navigator&&window.navigator.msSaveOrOpenBlob&&(a.preventDefault(),b=new Blob([this.csvString]),window.navigator.msSaveOrOpenBlob(b,this.download))},!0)}})}();