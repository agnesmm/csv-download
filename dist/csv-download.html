<!--
  <csv-download>

  @element csv-download
  @demo https://chris-l.github.io/csv-download/
--><html><head><script>!function(){"use strict";function a(a,b,c,d){null===a.getAttribute(b)&&a.setAttribute(b,a.props[b]||c),Object.defineProperty(a,b,{get:function(){return a.getAttribute(b)||a.props[b]||c},set:function(c){a.props[b]=c,a.setAttribute(b,c),"function"==typeof d&&d.call(a)}})}function b(a,b){return b=b||",","object"==typeof a||Array.isArray(a)?c(a,function(a){return c(a,function(a){return"string"!=typeof a&&(a=JSON.stringify(a).replace(/^"|"$/g,"")),RegExp(b+'|"').test(a)&&(a='"'+a.replace(/"/g,'""')+'"'),a}).join(b)}).join("\r\n"):""}var c,d;d=Object.create(HTMLLinkElement.prototype),c=Function.prototype.call.bind(Array.prototype.map),d.createURI=function(){this.csvString=b(this.data,this.delimiter),this.setAttribute("href","data:text/csv,"+encodeURIComponent(this.csvString))},d.createdCallback=function(){this.props={},this.data=this.data||[],a(this,"download","data.csv",this.createURI),a(this,"delimiter",",",this.createURI),this.createURI(),this.addEventListener("click",function(a){var b;this.createURI(),window.navigator&&window.navigator.msSaveOrOpenBlob&&(a.preventDefault(),b=new Blob([this.csvString]),window.navigator.msSaveOrOpenBlob(b,this.download))},!0)},document.registerElement("csv-download",{prototype:d,"extends":"a"})}();</script>
</head><body></body></html>